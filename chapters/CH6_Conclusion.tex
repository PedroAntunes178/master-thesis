\chapter{Conclusions}
\label{chapter:conclusions}
This chapter goes through the thesis achievements, the contributions to open-source repositories during this project, future optimisations to work developed, and projects using the \textit{IOb-SoC-Linux} as its core.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Achievements}
\label{section:achievements}
The work developed in this thesis project successfully achieves the project's goals. The \textit{Verilator} simulation testbench created is much faster than the previous verification process. This saves time when verifying a \acrshort{soc} based on the \textit{IOb-SoC}. Furthermore, the \textit{Python} \textit{Console} program developed works correctly with the simulation testbench and the \acrshort{fpga} boards.

The author successfully integrated a \acrshort{cpu} that meets the requirements to run an \acrshort{os} and verified that what worked with the previous \acrshort{cpu} still worked in the new \acrshort{soc}. The \acrshort{cpu} integrated is the \textit{VexRiscv} \acrshort{cpu} generated using the \textit{SpinalHDL} \textit{VexRiscv} platform. Additionally, the author successfully created the \acrshort{clint} component for timer and software interrupts, and the simulation testbench developed for the \acrshort{clint} shows it works as expected. Moreover, the interrupt routine firmware developed, which takes advantage of the \acrshort{clint}, shows how interrupts work in bare-metal with the \textit{IOb-SoC-Linux}. The \acrshort{plic} integrated in \textit{IOb-SoC-Linux} allows the \acrshort{soc} to support interrupts from its peripheral hardware components. Furthermore, since the Linux \acrshort{os} does not support the \textit{IOb-SoC} current \acrshort{uart}, in this thesis the author adapts an industry-standard \textit{UART16550} to the \textit{IOb-SoC-Linux}. The number of resources the complete \textit{IOb-SoC-Linux} uses is less than 10\% of the supported \acrshort{fpga} boards. Comparing the \textit{IOb-SoC} resources consumption with the resources used by the \textit{IOb-SoC-Linux}, which can execute a Linux \acrshort{os}, the author can conclude the developed \acrshort{soc} does not use many more resources than the original. There is still plenty of space in the \acrshort{fpga} o implement new hardware accelerators.

The minimal Linux \acrshort{os} developed successfully executes on simulation with the \textit{Verilator} testbench and on both supported \acrshort{fpga} boards. The Linux \acrshort{os} contains four major software components. The first is the \textit{OpenSBI} bootloader which implements the \textit{RISC-V} \acrshort{sbi}. The second is the \acrlong{dtb} which describes the \textit{IOb-SoC-Linux} hardware to the Linux Kernel. The third is the Linux kernel compiled to work with the \textit{VexRiscv} \acrshort{cpu}. Lastly, the fourth is the \acrlong{rootfs}, which uses the \textit{Busybox} software package and allows the user to interact with the Linux \acrshort{os}. The minimal Linux \acrshort{os} developed takes five seconds to boot in the Kintex Ultrascale board and seven seconds in the Cyclone V.

Finally, the \textit{Makefiles} written in this thesis allows researchers to use the developed components easily. Building a complete Linux \acrshort{os} with the created \textit{Makefiles} takes the user four minutes thirty seconds.

% ----------------------------------------------------------------------
\section{Contributed Repositories}
\label{section:contributions}
The following list shows the repositories name and the authors contribution for each repository.

\begin{itemize}
    \item \textbf{iob-soc}: 
    \item \textbf{iob-soc-OpenCryptoLinux}: 
    \item \textbf{iob-lib}: 
    \item \textbf{iob-vexriscv}: 
    \item \textbf{iob-uart16550}: 
    \item \textbf{iob-clint}: 
    \item \textbf{iob-plic}: 
\end{itemize}

% ----------------------------------------------------------------------
\section{Future Work}
\label{section:future}
After completing the thesis objectives, there is still room for optimisation. The author or other developer/researcher can submit new features to optimise the \textit{IOb-SoC-Linux}. The author is working on four optimisations. First, the performance of the \acrshort{soc} could be optimized if the \textit{VexRiscv} \acrshort{cpu} integrated in \textit{IOb-SoC-Linux} supported 32 bytes per cache line, currently the \acrshort{cpu} has an L1 data and instructions cache with 4 bytes per line. Secondly, the current \textit{IOb-SoC-Linux} does not have support for internet connections. Therefore, the author will adapt an existing Ethernet controller to the \textit{IOb-SoC-Linux} by creating a hardware wrapper. Thirdly, currently, the \textit{IOb-SoC-Linux} has to transfer the Linux \acrshort{os} every time it starts working and transferring data through the \acrshort{uart} is slow. Integrating an \acrfull{spi} controller would allow the \textit{IOb-SoC-Linux} to load the software from flash memory. An alternative solution would be to implement a \acrshort{pci} interface and transfer the data through it. Lastly, the author will optimise the \textit{Console} program. With the existing program, the user input is not fluid since the \textit{Console} does the input processing sequentially after the program waits a short period for data to be read from the serial connection. The optimised \textit{Console} program should receive the user input and read from the serial interface concurrently in two different threads.

One of the best advantages of this thesis project is the opportunities it creates. Many possible projects could use the \textit{IOb-SoC-Linux}. The author is currently involved in a project that aims to integrate the \textit{openCryptoHW}~\cite{open_crypto_hw} hardware accelerator, developed by a colleague working in \textit{IObundle}, in \textit{IOb-SoC-Linux} and working with the Linux \acrshort{os}. For this project, the author will have to develop Linux drivers that work with the \textit{open-Crypto} hardware and possibly integrate a \acrshort{dma} controller to the \textit{IOb-SoC-Linux}. It would also be interesting to implement the \textit{IOb-SoC-Linux} as an \acrshort{asic} and create a development with it as its core.
